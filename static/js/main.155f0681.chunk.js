(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{182:function(e,n,t){e.exports=t(341)},188:function(e,n,t){},341:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),u=t(30),o=t.n(u),c=(t(187),t(188),t(20)),i=t(46),l=t(156),s=Object(i.c)({newUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.response;switch(t){case"CREATE_USER_REQUEST":return e;case"CREATE_USER_FAILURE":return{error:r};case"CREATE_USER_SUCCESS":return 0;default:return e}},authenticationUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.response;switch(t){case"LOGIN_USER_REQUEST":return e;case"LOGIN_USER_FAILURE":return{error:r};case"LOGIN_USER_SUCCESS":return 0;default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.response;switch(t){case"CHECK_USER_REQUEST":return e;case"CHECK_USER_SUCCESS":return r.data.user;case"CHECK_USER_FAILURE":return{error:r};case"LOGIN_USER_SUCCESS":return r.data.user;case"LOGOUT_USER":return 0;case"CREATE_USER_SUCCESS":return r.data.user;default:return e}}}),p=Object(i.d)(s,Object(i.a)(l.a)),m=t(57),d=t(58),E=t(61),f=t(60),g=t(5),h=t(37),b=t(342),v=t(344),x=t(117),U=t(90),S=t(12),w=t(13);function C(){var e=Object(S.a)(["\nmargin-top: 59px;\nmargin-right: auto;\nmargin-left: auto;\nwidth: 384px;\n\npadding: 48px 32px;\n\nbackground: #FFFFFF;\nborder: 1px solid #D9D9D9;\n\nbox-shadow: 0px 0.608796px 2.93329px rgba(0, 0, 0, 0.0196802), 0px 1.46302px 7.04911px rgba(0, 0, 0, 0.0282725), 0px 2.75474px 13.2728px rgba(0, 0, 0, 0.035), 0px 4.91399px 23.6765px rgba(0, 0, 0, 0.0417275), 0px 9.19107px 44.2843px rgba(0, 0, 0, 0.0503198), 0px 22px 106px rgba(0, 0, 0, 0.07);\nborder-radius: 6px;\n"]);return C=function(){return e},e}function O(){var e=Object(S.a)(["\nmargin-top: 20px;\nborder: 1px solid #E8E8E8;\n"]);return O=function(){return e},e}function y(){var e=Object(S.a)(["\ntext-align: center;\n\n"]);return y=function(){return e},e}function R(){var e=Object(S.a)(["\nmargin-right: auto;\nmargin-left: auto;\n\nmargin-top: 8px;\n"]);return R=function(){return e},e}function _(){var e=Object(S.a)(["\n\n\nmargin-right: auto;\nmargin-left: auto;\nfont-weight: bold;\nfont-size: 20px;\nmargin-bottom: 20px;\ncolor: #262626;\n\n\n\n"]);return _=function(){return e},e}function j(){var e=Object(S.a)(["\ndisplay: block;\nmargin-top: 12px;\nfont-weight: normal;\nfont-size: 14px;\n\ncolor: #262626;\n\n"]);return j=function(){return e},e}var k=w.a.label(j()),I=w.a.div(_()),F=w.a.div(R()),T=w.a.p(y()),A=w.a.hr(O()),P=w.a.div(C()),L=t(47),N=t.n(L),G=t(92),D=t(93),H=t.n(D),q="https://conduit.productionready.io/api",z=function(e){if(422===e.response.status){var n=e.response.data.errors,t=n.email,r=n.username,a=t?"Email ".concat(t):"",u=r?"Username ".concat(r):"",o="".concat(a,"\n").concat(u);alert(o)}else alert("\u0423\u043f\u0441 :) \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435")},K=function(e){if(422===e.response.status){var n=e.response.data.errors["email or password"],t="Email or password ".concat(n);alert(t)}else alert("\u0423\u043f\u0441 :) \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435")},Q=function(e){localStorage.setItem("token",e)},V=function(){return localStorage.getItem("token")},B=function(e){var n={url:"/users",method:"post",baseURL:q,data:e};return H()(n)},J=function(e){var n={url:"/users/login",method:"post",baseURL:q,data:e};return H()(n)},M=function(e){var n=V(),t={url:"/user",method:"get",baseURL:q,headers:{Authorization:"Token ".concat(n)}};return H()(t)},Y=function(e){return{type:"LOGIN_USER_SUCCESS",response:e}},W=function(e){return{type:"LOGIN_USER_FAILURE",response:e}},X=function(e){return{type:"CREATE_USER_SUCCESS",response:e}},Z=function(e){return{type:"CREATE_USER_FAILURE",response:e}},$=function(e){return{type:"CHECK_USER_SUCCESS",response:e}},ee=function(e){return{type:"CHECK_USER_FAILURE",response:e}},ne=function(e){return function(){var e=Object(G.a)(N.a.mark((function e(n){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"CHECK_USER_REQUEST"}),e.prev=1,e.next=4,M();case 4:t=e.sent,n($(t)),Q(t.data.user.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(ee(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}()},te=Object(c.b)((function(e){return e}),(function(e){return{logInUser:function(n){return e(function(e){return function(){var n=Object(G.a)(N.a.mark((function n(t){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"LOGIN_USER_REQUEST"}),n.prev=1,n.next=4,J(e);case 4:r=n.sent,t(Y(r)),Q(r.data.user.token),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),t(W(n.t0)),K(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(n))}}}))((function(e){var n=e.logInUser,t=(e.currentUser,Object(U.a)({initialValues:{email:"",password:""},onSubmit:function(e){var t=e.email,r=e.password;n({user:{email:t,password:r}})}}));return a.a.createElement(P,null,a.a.createElement(I,null,a.a.createElement(T,null,"Sign In")),a.a.createElement(b.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:t.handleSubmit},a.a.createElement(k,null,"Email address"),a.a.createElement(b.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]},a.a.createElement(v.a,{id:"email",placeholder:"Email address",onChange:t.handleChange,value:t.values.email})),a.a.createElement(k,null,"Password"),a.a.createElement(b.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},a.a.createElement(v.a,{id:"password",type:"password",placeholder:"Password",onChange:t.handleChange,value:t.values.password})),a.a.createElement(b.a.Item,null,a.a.createElement(x.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Login"),a.a.createElement(F,null,a.a.createElement(T,null,"Don\u2019t have an account?"," ",a.a.createElement(h.b,{to:"/signup"},"Sign Un"))))))})),re=t(179),ae=t(345),ue=Object(c.b)((function(e){return e}),(function(e){return{createNewUser:function(n){return e(function(e){return function(){var n=Object(G.a)(N.a.mark((function n(t){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"CREATE_USER_REQUEST"}),n.prev=1,n.next=4,B(e);case 4:r=n.sent,t(X(r)),Q(r.data.user.token),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),t(Z(n.t0)),z(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(n))}}}))((function(e){var n=e.currentUser,t=e.createNewUser,r=(e.newUser,b.a.useForm()),u=Object(re.a)(r,1)[0],o=Object(U.a)({initialValues:{email:"",username:"",password:""},onSubmit:function(e){var r=e.email,a=e.password,u=e.username;t({user:{email:r,password:a,username:u}}),Q(n.token)}});return a.a.createElement(P,null,a.a.createElement(I,null,a.a.createElement(T,null," Create new account ")," ")," ",a.a.createElement(b.a,{form:u,name:"register",onFinish:o.handleSubmit,initialValues:{}},a.a.createElement(k,null," Username ")," ",a.a.createElement(b.a.Item,{name:"username",rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]},a.a.createElement(v.a,{onChange:o.handleChange,value:o.values.username,id:"username",placeholder:"Username"}))," ",a.a.createElement(k,null," Email address ")," ",a.a.createElement(b.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},a.a.createElement(v.a,{onChange:o.handleChange,value:o.values.email,id:"email",placeholder:"Email address"}))," ",a.a.createElement(k,null," Password ")," ",a.a.createElement(b.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"Your password needs to be at least 8 characters"}],hasFeedback:!0},a.a.createElement(v.a.Password,{onChange:o.handleChange,value:o.values.password,id:"password",placeholder:"Password"}))," ",a.a.createElement(k,null," Repeat Password ")," ",a.a.createElement(b.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("password")!==t?Promise.reject("Passwords must match"):Promise.resolve()}}}]},a.a.createElement(v.a.Password,{placeholder:"Password"}))," ",a.a.createElement(A,null),a.a.createElement(b.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,n){return n?Promise.resolve():Promise.reject("Should accept agreement")}}]},a.a.createElement(ae.a,null,"I agree to the processing of my personal information"," ")),a.a.createElement(b.a.Item,null,a.a.createElement(x.a,{type:"primary",htmlType:"submit"},"Create"," ")," ")," ",a.a.createElement(F,null,a.a.createElement(T,null,"Already have an account ?"," ",a.a.createElement(h.b,{to:"/signin"}," Sign In ")," ")," ")," ")," ")}));function oe(){var e=Object(S.a)(["\nmargin-top: 59px;\nmargin-right: auto;\nmargin-left: auto;\nwidth: 384px;\n\npadding: 48px 32px;\n\nbackground: #FFFFFF;\nborder: 1px solid #D9D9D9;\n\nbox-shadow: 0px 0.608796px 2.93329px rgba(0, 0, 0, 0.0196802), 0px 1.46302px 7.04911px rgba(0, 0, 0, 0.0282725), 0px 2.75474px 13.2728px rgba(0, 0, 0, 0.035), 0px 4.91399px 23.6765px rgba(0, 0, 0, 0.0417275), 0px 9.19107px 44.2843px rgba(0, 0, 0, 0.0503198), 0px 22px 106px rgba(0, 0, 0, 0.07);\nborder-radius: 6px;\n"]);return oe=function(){return e},e}var ce=w.a.div(oe()),ie=function(e){Object(E.a)(t,e);var n=Object(f.a)(t);function t(){return Object(m.a)(this,t),n.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(ce,null,"\u0412\u0441\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c :)")}}]),t}(a.a.Component),le=Object(c.b)((function(e){return e}),(function(e){return{checkCurrentUser:function(n){return e(ne())}}}))(ie);function se(){var e=Object(S.a)(["\nbackground: #E5E5E5;\nbackground-size: cover;\npadding-bottom: 20px;\nheight: 100%;\n"]);return se=function(){return e},e}var pe=w.a.section(se());function me(){var e=Object(S.a)(["\ndisplay: block;\nwidth: 110px;\nheight: 50px;\npadding-top: 10px;\npadding-left: 20px;\n\nfont-weight: normal;\nfont-size: 18px;\n\ncolor: #52C41A;\n\nborder: 1px solid #52C41A;\nborder-radius: 5px;\n"]);return me=function(){return e},e}function de(){var e=Object(S.a)(["\ncolor: rgba(0, 0, 0, 0.85);\nmargin-right: 10px;\n"]);return de=function(){return e},e}function Ee(){var e=Object(S.a)(["\n\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nwidth: 100%;\nmargin-left: 22px;\nmargin-right: 22px;\nfont-weight: normal;\nfont-size: 18px;\n\ncolor: rgba(0, 0, 0, 0.85);\n"]);return Ee=function(){return e},e}function fe(){var e=Object(S.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nbackground: #FFFFFF;\nheight: 80px;\n"]);return fe=function(){return e},e}var ge=w.a.header(fe()),he=w.a.div(Ee()),be=w.a.div(de()),ve=w.a.div(me()),xe=function(e){Object(E.a)(t,e);var n=Object(f.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];return(e=n.call.apply(n,[this].concat(u))).signInHeader=function(){var n=e.props,t=n.currentUser,r=n.logOut;return 0!==t?a.a.createElement(he,null,a.a.createElement(be,null,t.username),a.a.createElement(ve,null,a.a.createElement(h.b,{onClick:r,to:"/signin"},"Log Out"))):null},e}return Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(ge,null,a.a.createElement(he,null,"Realworld Blog"),this.signInHeader())}}]),t}(a.a.Component),Ue=Object(c.b)((function(e){return e}),(function(e){return{logOut:function(){localStorage.clear(),e({type:"LOGOUT_USER"})}}}))(xe),Se=function(e){var n=e.children,t=e.redirect,r=e.redirectTo;return a.a.createElement(g.b,{render:function(){return t?n:a.a.createElement(g.a,{to:r})}})},we=function(e){Object(E.a)(t,e);var n=Object(f.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=n.call.apply(n,[this].concat(a))).isAuthenticated=function(){return 0!==e.props.currentUser},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){null!==V()&&this.props.checkCurrentUser()}},{key:"render",value:function(){return a.a.createElement(h.a,null,a.a.createElement(pe,null,a.a.createElement(Ue,null),a.a.createElement(g.d,null,a.a.createElement(Se,{exact:!0,path:"/home",redirectTo:"/signin",redirect:this.isAuthenticated()},a.a.createElement(le,null)),a.a.createElement(Se,{exact:!0,path:"/signin",redirectTo:"/home",redirect:!this.isAuthenticated()},a.a.createElement(te,null)),a.a.createElement(Se,{exact:!0,path:"/signup",redirectTo:"/home",redirect:!this.isAuthenticated()},a.a.createElement(ue,null)),a.a.createElement(g.a,{from:"/",to:"/home"}))))}}]),t}(a.a.Component),Ce=Object(c.b)((function(e){return e}),(function(e){return{checkCurrentUser:function(n){return e(ne())}}}))(we);o.a.render(a.a.createElement(c.a,{store:p},a.a.createElement(Ce,null)),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.155f0681.chunk.js.map