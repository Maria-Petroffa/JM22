(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{227:function(e,t,n){e.exports=n(408)},233:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),c=n.n(i),l=(n(232),n(233),n(34)),o=n(73),u=n(194),s=Object(o.c)({newUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.response;switch(n){case"CREATE_USER_REQUEST":return e;case"CREATE_USER_FAILURE":return{error:a};case"CREATE_USER_SUCCESS":return 0;default:return e}},authenticationUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.response;switch(n){case"LOGIN_USER_REQUEST":return e;case"LOGIN_USER_FAILURE":return{error:a};case"LOGIN_USER_SUCCESS":return 0;default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.response;switch(n){case"CHECK_USER_REQUEST":return e;case"CHECK_USER_SUCCESS":return a.data.user;case"CHECK_USER_FAILURE":return{error:a};case"LOGIN_USER_SUCCESS":return a.data.user;case"LOGOUT_USER":return 0;case"CREATE_USER_SUCCESS":return a.data.user;default:return e}}}),m=Object(o.d)(s,Object(o.a)(u.a)),p=n(38),d=n(39),f=n(41),h=n(40),g=n(22),E=n(37),v=n(220),b=n(410),x=n(416),y=n(66),C=n(63),O=n(7),w=n(8);function j(){var e=Object(O.a)(["\npadding: 20px;\nmargin-top: 20px;\nmargin-right: auto;\nmargin-left: auto;\nmax-width: 941px;\nmin-height: 140px;\nbackground: #FFFFFF;\nborder-radius: 5px;\n"]);return j=function(){return e},e}function S(){var e=Object(O.a)(["\nmargin-top: 59px;\nmargin-right: auto;\nmargin-left: auto;\nwidth: 384px;\n\npadding: 48px 32px;\n\nbackground: #FFFFFF;\nborder: 1px solid #D9D9D9;\n\nbox-shadow: 0px 0.608796px 2.93329px rgba(0, 0, 0, 0.0196802), 0px 1.46302px 7.04911px rgba(0, 0, 0, 0.0282725), 0px 2.75474px 13.2728px rgba(0, 0, 0, 0.035), 0px 4.91399px 23.6765px rgba(0, 0, 0, 0.0417275), 0px 9.19107px 44.2843px rgba(0, 0, 0, 0.0503198), 0px 22px 106px rgba(0, 0, 0, 0.07);\nborder-radius: 6px;\n"]);return S=function(){return e},e}function U(){var e=Object(O.a)(["\nmargin-top: 20px;\nborder: 1px solid #E8E8E8;\n"]);return U=function(){return e},e}function k(){var e=Object(O.a)(["\ntext-align: center;\n\n"]);return k=function(){return e},e}function R(){var e=Object(O.a)(["\nmargin-right: auto;\nmargin-left: auto;\n\nmargin-top: 8px;\n"]);return R=function(){return e},e}function F(){var e=Object(O.a)(["\n\n\nmargin-right: auto;\nmargin-left: auto;\nfont-weight: bold;\nfont-size: 20px;\nmargin-bottom: 20px;\ncolor: #262626;\n\n\n\n"]);return F=function(){return e},e}function L(){var e=Object(O.a)(["\ndisplay: block;\nmargin-top: 12px;\nfont-weight: normal;\nfont-size: 14px;\n\ncolor: #262626;\n\n"]);return L=function(){return e},e}var T=w.a.label(L()),I=w.a.div(F()),A=w.a.div(R()),_=w.a.p(k()),P=w.a.hr(U()),z=w.a.div(S()),q=w.a.div(j()),D=n(11),N=n.n(D),G=n(30),V=n(47),H=n.n(V),B="https://conduit.productionready.io/api",K=function(e){return"/articles/".concat(e)},Q=function(e){return"/articles/".concat(e,"/favorite")},M=function(e){if(422===e.response.status){var t=e.response.data.errors,n=t.email,a=t.username,r=n?"Email ".concat(n):"",i=a?"Username ".concat(a):"",c="".concat(r,"\n").concat(i);alert(c)}else alert("\u0423\u043f\u0441 :) \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435")},J=function(e){if(422===e.response.status){var t=e.response.data.errors["email or password"],n="Email or password ".concat(t);alert(n)}else alert("\u0423\u043f\u0441 :) \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435")},Y=function(e){localStorage.setItem("token",e)},W=function(){return localStorage.getItem("token")};H.a.interceptors.request.use((function(e){var t=W();return null!==t&&(e.headers.Authorization="Token ".concat(t)),e}));var X=function(e){var t={url:"/users",method:"post",baseURL:B,data:e};return H()(t)},Z=function(e){var t={url:"/users/login",method:"post",baseURL:B,data:e};return H()(t)},$=function(){var e={url:"/user",method:"get",baseURL:B};return H()(e)},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n={url:"/articles",method:"get",baseURL:B,params:{limit:t,offset:e}};return H()(n)},te=function(e){var t={url:"/articles",method:"post",baseURL:B,data:e};return H()(t)},ne=function(e){var t={url:K(e),method:"get",baseURL:B};return H()(t)},ae=function(e){var t={url:K(e),method:"get",baseURL:B};return H()(t)},re=function(e,t){var n={url:K(e),method:"put",baseURL:B,data:t};return H()(n)},ie=function(e){var t={url:Q(e),method:"post",baseURL:B};return H()(t)},ce=function(e){var t={url:Q(e),method:"delete",baseURL:B};return H()(t)},le=function(e){return{type:"LOGIN_USER_SUCCESS",response:e}},oe=function(e){return{type:"LOGIN_USER_FAILURE",response:e}},ue=function(e){return{type:"CREATE_USER_SUCCESS",response:e}},se=function(e){return{type:"CREATE_USER_FAILURE",response:e}},me=function(e){return{type:"CHECK_USER_SUCCESS",response:e}},pe=function(e){return{type:"CHECK_USER_FAILURE",response:e}},de=Object(l.b)((function(e){return e}),(function(e){return{logInUser:function(t){return e(function(e){return function(){var t=Object(G.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"LOGIN_USER_REQUEST"}),t.prev=1,t.next=4,Z(e);case 4:a=t.sent,n(le(a)),Y(a.data.user.token),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),n(oe(t.t0)),J(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.logInUser,n=(e.currentUser,Object(C.b)({initialValues:{email:"",password:""},onSubmit:function(e){var n=e.email,a=e.password;t({user:{email:n,password:a}})}}));return r.a.createElement(z,null,r.a.createElement(I,null,r.a.createElement(_,null,"Sign In")),r.a.createElement(b.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:n.handleSubmit},r.a.createElement(T,null,"Email address"),r.a.createElement(b.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]},r.a.createElement(x.a,{id:"email",placeholder:"Email address",onChange:n.handleChange,value:n.values.email})),r.a.createElement(T,null,"Password"),r.a.createElement(b.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(x.a,{id:"password",type:"password",placeholder:"Password",onChange:n.handleChange,value:n.values.password})),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Login"),r.a.createElement(A,null,r.a.createElement(_,null,"Don\u2019t have an account?"," ",r.a.createElement(E.b,{to:"/signup"},"Sign Un"))))))})),fe=n(222),he=n(418),ge=Object(l.b)((function(e){return e}),(function(e){return{createNewUser:function(t){return e(function(e){return function(){var t=Object(G.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CREATE_USER_REQUEST"}),t.prev=1,t.next=4,X(e);case 4:a=t.sent,n(ue(a)),Y(a.data.user.token),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),n(se(t.t0)),M(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.currentUser,n=e.createNewUser,a=(e.newUser,b.a.useForm()),i=Object(fe.a)(a,1)[0],c=Object(C.b)({initialValues:{email:"",username:"",password:""},onSubmit:function(e){var a=e.email,r=e.password,i=e.username;n({user:{email:a,password:r,username:i}}),Y(t.token)}});return r.a.createElement(z,null,r.a.createElement(I,null,r.a.createElement(_,null," Create new account ")," ")," ",r.a.createElement(b.a,{form:i,name:"register",onFinish:c.handleSubmit,initialValues:{}},r.a.createElement(T,null," Username ")," ",r.a.createElement(b.a.Item,{name:"username",rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]},r.a.createElement(x.a,{onChange:c.handleChange,value:c.values.username,id:"username",placeholder:"Username"}))," ",r.a.createElement(T,null," Email address ")," ",r.a.createElement(b.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(x.a,{onChange:c.handleChange,value:c.values.email,id:"email",placeholder:"Email address"}))," ",r.a.createElement(T,null," Password ")," ",r.a.createElement(b.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"Your password needs to be at least 8 characters"}],hasFeedback:!0},r.a.createElement(x.a.Password,{onChange:c.handleChange,value:c.values.password,id:"password",placeholder:"Password"}))," ",r.a.createElement(T,null," Repeat Password ")," ",r.a.createElement(b.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("Passwords must match"):Promise.resolve()}}}]},r.a.createElement(x.a.Password,{placeholder:"Password"}))," ",r.a.createElement(P,null),r.a.createElement(b.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject("Should accept agreement")}}]},r.a.createElement(he.a,null,"I agree to the processing of my personal information"," ")),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{type:"primary",htmlType:"submit"},"Create"," ")," ")," ",r.a.createElement(A,null,r.a.createElement(_,null,"Already have an account ?"," ",r.a.createElement(E.b,{to:"/signin"}," Sign In ")," ")," ")," ")," ")})),Ee=n(412),ve=n(148),be=n(415),xe=n(419),ye=n(420),Ce=n(409),Oe=n(411),we=n(414);function je(){var e=Object(O.a)(["\nwidth: 500px;\nmargin-top: 10px;\nmargin-right: auto;\nmargin-left: auto;\n"]);return je=function(){return e},e}function Se(){var e=Object(O.a)(["\n\nmargin-right: auto;\nmargin-left: auto;\nfont-weight: bold;\nfont-size: 20px;\nmargin-bottom: 20px;\ncolor: #262626;\n"]);return Se=function(){return e},e}function Ue(){var e=Object(O.a)(["\ndisplay: flex;\nflex-wrap: no-wrap;\nmargin-top: 20px;\nwidth: 100%;\n"]);return Ue=function(){return e},e}function ke(){var e=Object(O.a)(["\nborder-radius: 50%;\nmargin-left: auto;\nwidth: 46px;\nheight: 46px;\n"]);return ke=function(){return e},e}function Re(){var e=Object(O.a)(["\ndisplay: flex;\nflex-wrap: no-wrap;\nwidth: 100%;\n"]);return Re=function(){return e},e}function Fe(){var e=Object(O.a)(["\nmargin-top: 10px;\nfont-style: normal;\nfont-size: 12px;\ncolor: rgba(0, 0, 0, 0.5);\nmargin-bottom: 20px;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(O.a)(["\nfont-style: normal;\nfont-size: 18px;\nmargin-right: 10px;\ncolor: rgba(0, 0, 0, 0.85);\n"]);return Le=function(){return e},e}function Te(){var e=Object(O.a)(["\ndisplay: flex;\nflex-wrap: no-wrap;\nflex-direction: column;\n\nmargin-top: 15px;\nmargin-right: 15px;\n"]);return Te=function(){return e},e}function Ie(){var e=Object(O.a)(["\nmargin-top: 10px;\n"]);return Ie=function(){return e},e}function Ae(){var e=Object(O.a)(["\nmargin-top: 5px;\nfont-style: normal;\nfont-size: 15px;\ncolor: rgba(0, 0, 0, 0.75);\n"]);return Ae=function(){return e},e}function _e(){var e=Object(O.a)(["\nmargin-top: 5px;\nfont-style: normal;\nfont-size: 12px;\ncolor: rgba(0, 0, 0, 0.5);\n"]);return _e=function(){return e},e}function Pe(){var e=Object(O.a)(["\ndisplay: inline-block;\nmargin-left: 5px;\nfont-style: normal;\nfont-size: 12px;\nline-height: 22px;\ncolor: rgba(0, 0, 0, 0.75);\n"]);return Pe=function(){return e},e}function ze(){var e=Object(O.a)(["\ndisplay: inline-block;\nmargin-left: 13px;\n"]);return ze=function(){return e},e}function qe(){var e=Object(O.a)(["\ndisplay: inline-block;\nfont-family: Inter;\nfont-weight: normal;\nfont-size: 20px;\ncolor: #1890FF;\n"]);return qe=function(){return e},e}function De(){var e=Object(O.a)(["\nmargin-top: 15px;\nmargin-left: 20px;\nmargin-right: 20px;\n"]);return De=function(){return e},e}function Ne(){var e=Object(O.a)(["\ndisplay: flex;\njustify-content: space-between;\nmargin-top: 20px;\nmargin-right: auto;\nmargin-left: auto;\nmax-width: 941px;\nmin-height: 140px;\nbackground: #FFFFFF;\nborder-radius: 5px;\n"]);return Ne=function(){return e},e}var Ge=w.a.div(Ne()),Ve=w.a.div(De()),He=w.a.div(qe()),Be=w.a.div(ze()),Ke=w.a.div(Pe()),Qe=w.a.div(_e()),Me=w.a.div(Ae()),Je=w.a.div(Ie()),Ye=w.a.div(Te()),We=w.a.div(Le()),Xe=w.a.div(Fe()),Ze=w.a.div(Re()),$e=w.a.img(ke()),et=w.a.div(Ue()),tt=(w.a.div(Se()),w.a.div(je())),nt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).createdData=function(e){var t=Object(Ce.a)(e),n=new Date,a=Object(Oe.a)({start:t,end:n}),r=a.days,i=a.hours,c=a.minutes;return"created ".concat(Object(we.a)({days:r,hours:i,minutes:c})," ago")},a.favoriteArticleChange=function(){var e=a.state,t=e.slug,n=e.favorited,r=a.props.onChangeFavorites,i=function(){var e=Object(G.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t).then((function(e){return a.setState(e.data)})).then((function(){return r()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i(n?ce:ie)},a.renderArticleFavorites=function(){var e=a.props.currentUser,t=a.state,n=t.favoritesCount,i=t.favorited,c=0===e;return r.a.createElement(Be,null,r.a.createElement(be.a,{disabled:c,value:i?1:0,onChange:a.favoriteArticleChange,style:{color:"#eb2f96"},character:r.a.createElement(ye.a,null),count:"1"}),r.a.createElement(Ke,null,n))},a.state=a.props.articles,a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.articles,t=e.title,n=e.tagList,a=e.description,i=e.author,c=e.createdAt,l=e.slug;return r.a.createElement(Ge,{id:l},r.a.createElement(Ve,null,r.a.createElement(He,null,t),this.renderArticleFavorites(),r.a.createElement(Je,null,n.map((function(e){return r.a.createElement(xe.a,{key:e,color:"default"},e)}))),r.a.createElement(E.b,{to:"/articles/".concat(l)},r.a.createElement(Qe,null,a),r.a.createElement(Xe,null,this.createdData(c)))),r.a.createElement(Ye,null,r.a.createElement(Ze,null,r.a.createElement(We,null,i.username)),r.a.createElement($e,{src:i.image})))}}]),n}(r.a.Component),at=Object(l.b)((function(e){return e}))(nt),rt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).response=function(){var e=Object(G.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){a.setState({articles:e})},r=function(e){a.setState({articlesCount:e})},e.prev=2,e.next=5,ee(t).then((function(e){var t=e.data,a=t.articles,i=t.articlesCount;r(i),n(a)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),"Error"===e.t0.name&&a.response();case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),a.onChangePgination=function(e){a.setState({currentPage:e});var t=10*(e-1);a.response(t)},a.onChangeFavorites=function(){var e=10*(a.state.currentPage-1);a.response(e)},a.renderArticleList=function(){return a.state.articles.map((function(e){return r.a.createElement(at,{articles:e,key:Object(ve.uniqueId)(),onChangeFavorites:a.onChangeFavorites})}))},a.renderPaginator=function(){var e=a.state.articlesCount;return r.a.createElement(tt,null,r.a.createElement(Ee.a,{showSizeChanger:!1,pageSize:"10",size:"small",onChange:a.onChangePgination,total:e}))},a.state={currentPage:1,articles:[]},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=10*(this.state.currentPage-1),this.response(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderArticleList(),this.renderPaginator())}}]),n}(r.a.Component),it=Object(l.b)((function(e){return e}))(rt),ct=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(it,null)}}]),n}(r.a.Component);function lt(){var e=Object(O.a)(["\nbackground: #E5E5E5;\nbackground-size: cover;\npadding-bottom: 20px;\nmin-height: 100%;\n"]);return lt=function(){return e},e}var ot=w.a.section(lt());function ut(){var e=Object(O.a)(["\ndisplay: block;\npadding-top: 10px;\npadding-left: 20px;\npadding-bottom: 10px;\npadding-right: 20px;\nfont-weight: normal;\nfont-size: 18px;\ncolor: #52C41A;\nborder: 1px solid #52C41A;\nborder-radius: 5px;\n"]);return ut=function(){return e},e}function st(){var e=Object(O.a)(["\ndisplay: block;\nmargin-right: 10px;\npadding-top: 10px;\npadding-left: 20px;\npadding-bottom: 10px;\npadding-right: 20px;\nfont-weight: normal;\nfont-size: 18px;\ncolor: #4d4d4d;\n"]);return st=function(){return e},e}function mt(){var e=Object(O.a)(["\ndisplay: block;\nmargin-right: 10px;\npadding-top: 5px;\npadding-bottom: 5px;\npadding-left: 10px;\npadding-right: 10px;\nfont-weight: normal;\nfont-size: 14px;\ncolor: #52C41A;\nborder: 1px solid #52C41A;\nborder-radius: 5px;\n"]);return mt=function(){return e},e}function pt(){var e=Object(O.a)(["\ndisplay: block;\npadding-top: 10px;\npadding-left: 20px;\npadding-bottom: 10px;\npadding-right: 20px;\nfont-weight: normal;\nfont-size: 18px;\ncolor: #52C41A;\nborder: 1px solid #4d4d4d;\nborder-radius: 5px;\n"]);return pt=function(){return e},e}function dt(){var e=Object(O.a)(["\ncolor: rgba(0, 0, 0, 0.85);\nmargin-right: 10px;\n"]);return dt=function(){return e},e}function ft(){var e=Object(O.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nmargin-left: 22px;\nmargin-right: 22px;\nfont-weight: normal;\nfont-size: 18px;\ncolor: rgba(0, 0, 0, 0.85);\n"]);return ft=function(){return e},e}function ht(){var e=Object(O.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nbackground: #FFFFFF;\nheight: 80px;\n"]);return ht=function(){return e},e}var gt=w.a.header(ht()),Et=w.a.div(ft()),vt=w.a.div(dt()),bt=w.a.div(pt()),xt=w.a.div(mt()),yt=w.a.div(st()),Ct=w.a.div(ut()),Ot=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).isSignInHeader=function(){var t=e.props,n=t.currentUser,a=t.logOut;return 0!==n?r.a.createElement(Et,null,r.a.createElement(xt,{className:"header-create-article"},r.a.createElement(E.b,{to:"/add",style:{color:"#52C41A"}},"Create article")),r.a.createElement(vt,null,n.username),r.a.createElement(bt,null,r.a.createElement(E.b,{onClick:a,to:"/signin",style:{color:"#4d4d4d"}},"Log Out"))):r.a.createElement(Et,null,r.a.createElement(yt,{className:"header-create-article"},r.a.createElement(E.b,{to:"/signin",style:{color:"#4d4d4d"}},"Sing In")),r.a.createElement(Ct,null,r.a.createElement(E.b,{to:"/signup",style:{color:"#52C41A"}},"Sing Up")))},e}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(gt,null,r.a.createElement(Et,null,"Realworld Blog"),this.isSignInHeader())}}]),n}(r.a.Component),wt=Object(l.b)((function(e){return e}),(function(e){return{logOut:function(){localStorage.clear(),e({type:"LOGOUT_USER"})}}}))(Ot),jt=n(421),St=n(422),Ut=function(e){var t=e.history,n=Object(C.b)({initialValues:{title:"",description:"",body:"",tagList:[]},onSubmit:function(e){var n={article:{title:e.title,description:e.description,body:e.body,tagList:e.tagList}},a=function(){var e=Object(G.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{a(),t.replace("/home")}catch(r){"Error"===r.name&&a()}}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null,r.a.createElement(I,null,r.a.createElement(_,null," Create new article")),r.a.createElement(b.a,{name:"dynamic_form_item",onFinish:n.handleSubmit},r.a.createElement(T,null,"Title")," ",r.a.createElement(b.a.Item,{rules:[{required:!0,message:"Please input Title"}]},r.a.createElement(x.a,{name:"title",placeholder:"Title",onChange:n.handleChange,value:n.values.title}))," ",r.a.createElement(T,null,"Short description"),r.a.createElement(b.a.Item,{rules:[{required:!0,message:"Please input Short description"}]},r.a.createElement(x.a,{name:"description",placeholder:"Short description",onChange:n.handleChange,value:n.values.description})),r.a.createElement(T,null,"Text"),r.a.createElement(b.a.Item,null,r.a.createElement(x.a.TextArea,{placeholder:"Text",name:"body",rules:[{required:!0,message:"Please input Text"}],onChange:n.handleChange,value:n.values.body})),r.a.createElement(T,null,"Tags"),r.a.createElement(b.a.List,{name:"names"},(function(e,t){var a=t.add,i=t.remove;return r.a.createElement("div",null,e.map((function(t,a){return r.a.createElement(b.a.Item,{required:!1,key:t.key},r.a.createElement(b.a.Item,Object.assign({},t,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input Tag or delete this field."}],noStyle:!0}),r.a.createElement(x.a,{id:"tagList-".concat(t.key),name:"tagList[".concat(t.key,"]"),placeholder:"tag",style:{width:"60%"},onChange:n.handleChange,value:n.values.tagList[t.key]})),e.length>1?r.a.createElement(jt.a,{className:"dynamic-delete-button",style:{margin:"0 8px"},onClick:function(){i(t.name)}}):null)})),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{type:"dashed",onClick:function(){a()},style:{width:"60%"}},r.a.createElement(St.a,null)," ","Add tag")))})),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{type:"primary",htmlType:"submit"},"Send")))))},kt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).renderTagList=function(e){var t=e.values,n=t.tagList,a=t.title,i=t.description,c=t.body;return r.a.createElement(r.a.Fragment,null,n.map((function(t,l){return r.a.createElement(b.a.Item,{required:!1,key:l},r.a.createElement(b.a.Item,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input Tag or delete this field."}],noStyle:!0},r.a.createElement(x.a,{id:"tagList-".concat(l),name:"tagList[".concat(l,"]"),placeholder:"tag",style:{width:"60%"},onChange:e.handleChange,value:e.values.tagList[l]})),r.a.createElement(jt.a,{className:"dynamic-delete-button",style:{margin:"0 8px"},onClick:function(){var t=n;t.splice(l,1),e.setValues({tagList:t,title:a,description:i,body:c})}}))})),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{id:"add",type:"dashed",onClick:function(){var t=n;t.push(""),e.setValues({tagList:t,title:a,description:i,body:c})},style:{width:"60%"}},r.a.createElement(St.a,null)," ","Add tag")))},a.state={},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.response();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"response",value:function(){var e=Object(G.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(this.props.match);case 2:t=e.sent,n=t.data.article,this.setState({article:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(void 0===this.state.article)return null;var t=this.state.article,n={title:t.title,description:t.description,body:t.body,tagList:t.tagList};return r.a.createElement(C.a,{initialValues:n,onSubmit:function(t){var n={article:t},a=function(){var t=Object(G.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e.props.match,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{a(),e.props.history.replace("/home")}catch(r){"Error"===r.name&&a()}}},(function(t){return r.a.createElement(q,null,r.a.createElement(I,null,r.a.createElement(_,null,"Edit article")),r.a.createElement(b.a,{name:"dynamic_form_item",onFinish:t.handleSubmit},r.a.createElement(T,null,"Title"),r.a.createElement(b.a.Item,{rules:[{required:!0,message:"Please input Title"}]},r.a.createElement(x.a,{name:"title",placeholder:"Title",onChange:t.handleChange,value:t.values.title})),r.a.createElement(T,null,"Short description"),r.a.createElement(b.a.Item,{rules:[{required:!0,message:"Please input Short description"}]},r.a.createElement(x.a,{name:"description",placeholder:"Short description",onChange:t.handleChange,value:t.values.description})),r.a.createElement(T,null,"Text"),r.a.createElement(b.a.Item,null,r.a.createElement(x.a.TextArea,{placeholder:"Text",name:"body",rules:[{required:!0,message:"Please input Text"}],onChange:t.handleChange,value:t.values.body})),r.a.createElement(T,null,"Tags"),r.a.createElement(b.a.List,{name:"taglist"},(function(){return r.a.createElement("div",null,e.renderTagList(t))})),r.a.createElement(b.a.Item,null,r.a.createElement(y.a,{type:"primary",htmlType:"submit"},"Send"))))}))}}]),n}(r.a.Component),Rt=n(413),Ft=n(423),Lt=Rt.a.confirm,Tt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).showDeleteConfirm=function(e){var t=function(e){var t=a.props.history;!function(e){var t={url:K(e),method:"delete",baseURL:B};H()(t)}(e),t.replace("/home")};Lt({title:"Are you sure to delete this article?",icon:r.a.createElement(Ft.a,null),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){t(e)},onCancel:function(){}})},a.showEditeConfirm=function(){a.props.history.push("/articles/".concat(a.state.article.slug,"/edit"))},a.createdData=function(e){var t=Object(Ce.a)(e),n=new Date,a=Object(Oe.a)({start:t,end:n}),r=a.days,i=a.hours,c=a.minutes;return"created ".concat(Object(we.a)({days:r,hours:i,minutes:c})," ago")},a.favoriteArticleChange=function(){var e=a.state.article,t=e.slug,n=e.favorited,r=function(){var e=Object(G.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t).then((function(e){return a.setState(e.data)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r(n?ce:ie)},a.renderArticleButton=function(){var e=a.props.currentUser,t=a.state.article.slug;return 0===e||e.username!==a.state.article.author.username?null:r.a.createElement(et,null,r.a.createElement(y.a,{type:"dashed"},r.a.createElement(E.b,{to:"/articles/".concat(t,"/edit")},"Edit")),r.a.createElement(y.a,{onClick:function(){return a.showDeleteConfirm(a.state.article.slug)},type:"dashed"},"Delete"))},a.renderArticleFavorites=function(){var e=a.props.currentUser,t=a.state.article,n=t.favoritesCount,i=t.favorited,c=0===e;return r.a.createElement(Be,null,r.a.createElement(be.a,{disabled:c,value:i?1:0,onChange:a.favoriteArticleChange,style:{color:"#eb2f96"},character:r.a.createElement(ye.a,null),count:"1"}),r.a.createElement(Ke,null,n))},a.state=0,a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(this.props.match).then((function(e){return t.setState(e.data)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(0===this.state)return null;var e=this.state.article,t=e.title,n=e.tagList,a=e.description,i=e.author,c=e.createdAt,l=e.body;return r.a.createElement(Ge,null,r.a.createElement(Ve,null,r.a.createElement(He,null,t),this.renderArticleFavorites(),r.a.createElement(Je,null,n.map((function(e){return r.a.createElement(xe.a,{key:e,color:"default"},e)}))),r.a.createElement(Qe,null,a),r.a.createElement(Me,null,l),r.a.createElement(Xe,null,this.createdData(c))),r.a.createElement(Ye,null,r.a.createElement(Ze,null,r.a.createElement(We,null,i.username),r.a.createElement($e,{src:i.image})),this.renderArticleButton()))}}]),n}(r.a.Component),It=Object(l.b)((function(e){return e}))(Tt),At=Object(v.a)(),_t=function(e){var t=e.children,n=e.redirect,a=e.redirectTo;return r.a.createElement(g.b,{render:function(){return n?t:r.a.createElement(g.a,{to:a})}})},Pt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).isAuthenticated=function(){return 0!==e.props.currentUser},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){null!==W()&&this.props.checkCurrentUser()}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{history:At},r.a.createElement(ot,null,r.a.createElement(wt,null),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/home",render:function(e){var t=e.history;return r.a.createElement(ct,{history:t})}}),r.a.createElement(_t,{exact:!0,path:"/signin",redirectTo:"/home",redirect:!this.isAuthenticated()},r.a.createElement(de,null)),r.a.createElement(_t,{exact:!0,path:"/signup",redirectTo:"/home",redirect:!this.isAuthenticated()},r.a.createElement(ge,null)),r.a.createElement(g.b,{exact:!0,path:"/add",render:function(t){t.match;var n=t.history;return e.isAuthenticated()?r.a.createElement(Ut,{history:n}):r.a.createElement(g.a,{to:"/signin"})}}),r.a.createElement(g.b,{path:"/articles/:slug/edit",render:function(e){var t=e.match,n=e.history;return r.a.createElement(kt,{match:t.params.slug,history:n})}}),r.a.createElement(g.b,{path:"/articles/:slug",render:function(e){var t=e.match,n=e.history;return r.a.createElement(It,{match:t.params.slug,history:n})}}),r.a.createElement(g.a,{from:"/",to:"/home"}))))}}]),n}(r.a.Component),zt=Object(l.b)((function(e){return e}),(function(e){return{checkCurrentUser:function(t){return e(function(){var e=Object(G.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CHECK_USER_REQUEST"}),e.prev=1,e.next=4,$();case 4:n=e.sent,t(me(n)),Y(n.data.user.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(pe(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Pt);c.a.render(r.a.createElement(l.a,{store:m},r.a.createElement(zt,null)),document.getElementById("root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.487f6d69.chunk.js.map